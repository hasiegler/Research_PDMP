left_join(WHITE, by = c("Year", "State"))
DATA_METHADONE <- DATA_METHADONE %>%
filter(Year > 1999)
View(DATA_METHADONE)
DATA_METHADONE <- DATA_METHADONE %>%
select(-operational_year)
DATA_METHADONE[is.na(DATA_METHADONE)] <- 0
DATA_METHADONE <- DATA_METHADONE %>%
rename(avg_age = AVG_AGE,
bachelors_pct = bachelors_percent,
white_pct = WHITE_PCT)
sum(is.na(DATA_METHADONE))
write.csv(DATA_METHADONE, "DATA_METHADONE.csv", row.names = FALSE)
df2 <- read_csv(here("DATA_METHADONE.csv"))
View(df2)
mod_methadone <- lm_robust(methadone_rate ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + factor(Year) + factor(State), data = df2, se_type = "HC1")
summary(mod_methadone)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(here)
library(tinytex)
library(estimatr)
library(texreg)
library(stargazer)
library(sandwich)
df <- read_csv(here("DATA3.csv"))
options(scipen = 99)
mod_total <- lm_robust(total ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + factor(Year) + factor(State), data = df, se_type = "HC1")
summary(mod_total)
mod2 <- lm(total ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + factor(Year) + factor(State), data = df)
cov2 <- vcovHC(mod2, type = "HC1")
robust_se <- sqrt(diag(cov2))
mod1 <- lm(total ~ PDMP + factor(Year) + factor(State), data = df)
cov1 <- vcovHC(mod1, type = "HC1")
robust_se1 <- sqrt(diag(cov1))
fe_vector <- c("Fixed Effects", "Yes", "Yes")
covariate_vector <- c("Covariates", "No", "Yes")
stargazer(mod1, mod2, type = "latex",
se = list(robust_se1, robust_se), omit = c("factor"),
add.lines = list(fe_vector, covariate_vector),
dep.var.labels = "Total Opioid Overdose Death Rate per 100,000")
mod_total <- lm_robust(heroin_synthetic ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + factor(Year) + factor(State), data = df, se_type = "HC1")
summary(mod_total)
mod2_heroin <- lm(heroin_synthetic ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + factor(Year) + factor(State), data = df)
cov2_heroin <- vcovHC(mod2_heroin, type = "HC1")
robust_se2_heroin <- sqrt(diag(cov2_heroin))
mod1_heroin <- lm(heroin_synthetic ~ PDMP + factor(Year) + factor(State), data = df)
cov1_heroin <- vcovHC(mod1_heroin, type = "HC1")
robust_se1_heroin <- sqrt(diag(cov1_heroin))
fe_vector <- c("Fixed Effects", "Yes", "Yes")
covariate_vector <- c("Covariates", "No", "Yes")
stargazer(mod1_heroin, mod2_heroin, type = "latex",
se = list(robust_se1_heroin, robust_se2_heroin), omit = c("factor"),
add.lines = list(fe_vector, covariate_vector),
dep.var.labels = "Heroin and Synthetic Opioid Overdose Death Rate per 100,000")
mod_natural <- lm_robust(natural_and_other ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + factor(Year) + factor(State), data = df, se_type = "HC1")
summary(mod_natural)
mod2_natural <- lm(natural_and_other ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + factor(Year) + factor(State), data = df)
cov2_natural <- vcovHC(mod2_natural, type = "HC1")
robust_se2_natural <- sqrt(diag(cov2_natural))
mod1_natural <- lm(natural_and_other ~ PDMP + factor(Year) + factor(State), data = df)
cov1_natural <- vcovHC(mod1_natural, type = "HC1")
robust_se1_natural <- sqrt(diag(cov1_natural))
fe_vector <- c("Fixed Effects", "Yes", "Yes")
covariate_vector <- c("Covariates", "No", "Yes")
stargazer(mod1_natural, mod2_natural, type = "latex",
se = list(robust_se1_natural, robust_se2_natural), omit = c("factor"),
add.lines = list(fe_vector, covariate_vector),
dep.var.labels = "Natural, Semisynthetic, and Other Opioid Overdose Death Rate per 100,000")
df2 <- read_csv(here("DATA_METHADONE.csv"))
mod_methadone <- lm_robust(methadone_rate ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + factor(Year) + factor(State), data = df2, se_type = "HC1")
summary(mod_methadone)
mod2_methadone <- lm(methadone_rate ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + factor(Year) + factor(State), data = df2)
cov2_methadone <- vcovHC(mod2_methadone, type = "HC1")
robust_se2_methadone <- sqrt(diag(cov2_methadone))
mod1_methadone <- lm(methadone_rate ~ PDMP + factor(Year) + factor(State), data = df2)
cov1_methadone <- vcovHC(mod1_methadone, type = "HC1")
robust_se1_methadone <- sqrt(diag(cov1_methadone))
fe_vector <- c("Fixed Effects", "Yes", "Yes")
covariate_vector <- c("Covariates", "No", "Yes")
stargazer(mod1_methadone, mod2_methadone, type = "latex",
se = list(robust_se1_methadone, robust_se2_methadone), omit = c("factor"),
add.lines = list(fe_vector, covariate_vector),
dep.var.labels = "Methadone Overdose Death Rate per 100,000")
fe_vector_final <- c("Fixed Effects", "Yes", "Yes", "Yes", "Yes")
covariate_vector_final <- c("Covariates", "Yes", "Yes", "Yes", "Yes")
stargazer(mod2, mod2_heroin, mod2_natural, mod2_methadone, type = "latex",
se = list(robust_se, robust_se2_heroin, robust_se2_natural, robust_se2_methadone), omit = c("factor"),
add.lines = list(fe_vector_final, covariate_vector_final),
dep.var.labels = "Overdose Death Rate per 100,000")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(here)
library(kableExtra)
library(knitr)
df <- read_csv(here("DATA3.csv"))
df2 <- read_csv(here("DATA_METHADONE.csv"))
median1 <- df %>%
group_by(year) %>%
summarize(median_total = median(total),
median_heroin = median(heroin_synthetic),
median_natural = median(natural_and_other))
median2 <- df2 %>%
group_by(year) %>%
summarize(median_methadone = median(methadone_rate))
median_data <- left_join(median1, median2, by = "year")
median_long <- median_data %>%
pivot_longer(!year, names_to = "Rate", values_to = "Value")
captions <- median_long %>%
group_by(Rate) %>%
slice(n()) %>%
mutate(Captions = c(""))
ggplot(median_long, aes(x = year, y = Value, color = Rate)) +
geom_point() +
geom_line( )+
labs(x = "Year", y = "Median Rate", title = "Time Series Scatterplot of Median Rates") +
theme_minimal() +
theme(legend.position = "none",
panel.grid.major.x = element_blank()) +
geom_text(aes(x = 2022, y = 23, label = "Any Opioid", color = "gray12")) +
geom_text(aes(x = 2022, y = 20, label = "Heroin and Synthetic Opioids", color = "coral1")) +
geom_text(aes(x = 2022, y = 5, label = "Natural, Semisynthetic, and Other Opioids", color = "cyan")) +
geom_text(aes(x = 2022, y = 2.5, label = "Methadone", color = "darkorange")) +
scale_color_manual(values = c("darkorchid", "firebrick2", "dodgerblue", "green4", "gold", "blue", "green", "deeppink"))
figure3 <- ggplot(median_long, aes(x = year, y = Value, color = Rate)) +
geom_line(size = 1)+
labs(x = "Year", y = "Overdose Rate per 100,000",
title = "Median Overdose Rate by Type of Opioid") +
theme_minimal() +
theme(legend.position = "none",
panel.grid.major.x = element_blank(),
plot.title = element_text(hjust = 0.4, size = 16)) +
scale_color_manual(values = c("darkorchid1", "firebrick1", "dodgerblue", "green3"))
ggsave(filename = here("figure3.jpeg"), plot = figure3, device = "jpeg", width = 7, height = 5)
average_rate <- df %>%
group_by(PDMP, year) %>%
summarize(Average_Rate = mean(total),
count = sum(PDMP ==1))
figure2 <- ggplot(average_rate, aes(x = year, y = Average_Rate, color = factor(PDMP))) +
geom_line(size = 1) +
labs(x = "Year", y = "Overdose Rate per 100,000",
title = "Average Total Opioid Overdose Rate by PDMP Status") +
scale_color_manual(values = c("blue", "red")) +
theme_minimal() +
theme(panel.grid.major.x = element_blank(),
plot.title = element_text(hjust = 0.4, size = 16),
legend.position = "none")
ggsave(filename = here("figure2.jpeg"), plot = figure2, device = "jpeg", width = 7, height = 5)
PDMP_Year <- readxl::read_xlsx(here("PDMPYear.xlsx"))
PDMP_Year <- PDMP_Year %>%
mutate(Year = as.numeric(Year)) %>%
rename(operational_year = Year)
cumulative_PDMPS <- PDMP_Year %>%
group_by(operational_year) %>%
summarise(count = n_distinct(State)) %>%
mutate(cumulative_count = cumsum(count)) %>%
filter(operational_year >= 2000)
new_rows <- data.frame(operational_year = c(2000,
2001,
2002,
2015,
2016,
2017,
2018,
2019,
2020),
count = 0,
cumulative_count = c(16,
16,
16,
49,
49,
49,
49,
49,
49))
cumulative_PDMPS <- rbind(cumulative_PDMPS, new_rows)
figure1 <- cumulative_PDMPS %>%
ggplot(aes(x = operational_year, y = cumulative_count)) +
geom_line(size = 1, col = "blue") +
theme_minimal() +
labs(y = "Total Number of States",
x = "Year",
title = "Total Number of States with an\nOperational PDMP in Effect by Year")+
theme(plot.title = element_text(hjust = 0.5, size = 16),
panel.grid.minor.x = element_blank())
ggsave(filename = here("figure1.jpeg"), plot = figure1, device = "jpeg", width = 7, height = 5)
quantile_overall <- quantile(df$total, probs = c(0.05, 0.25, 0.5, 0.75, 0.95))
quantile_2000 <- df %>%
filter(year == 2000) %>%
pull(total) %>%
quantile(probs = c(0.05, 0.25, 0.5, 0.75, 0.95))
quantile_2005 <- df %>%
filter(year == 2005) %>%
pull(total) %>%
quantile(probs = c(0.05, 0.25, 0.5, 0.75, 0.95))
quantile_2010 <- df %>%
filter(year == 2010) %>%
pull(total) %>%
quantile(probs = c(0.05, 0.25, 0.5, 0.75, 0.95))
quantile_2015 <- df %>%
filter(year == 2015) %>%
pull(total) %>%
quantile(probs = c(0.05, 0.25, 0.5, 0.75, 0.95))
quantile_2020 <- df %>%
filter(year == 2020) %>%
pull(total) %>%
quantile(probs = c(0.05, 0.25, 0.5, 0.75, 0.95))
quantiles_df <- data.frame(quantile_overall,
quantile_2000,
quantile_2005,
quantile_2010,
quantile_2015,
quantile_2020)
quantiles_df <- t(quantiles_df)
rownames(quantiles_df) <- c("2000 - 2020",
"2000",
"2005",
"2010",
"2015",
"2020")
quantiles_df <- round(quantiles_df, 2)
kableExtra::kable(quantiles_df, format = "html", caption = "Quantiles of the Total Opioid Overdose Rate in Select Years") %>%
kable_styling(full_width = TRUE)
average_state <- df %>%
group_by(state, year) %>%
summarize(Average_Rate = mean(total))
View(average_state)
ggplot(average_rate, aes(x = year, y = Average_Rate, color = state)) +
geom_line()
ggplot(average_rate, aes(x = year, y = Average_Rate, color = factor(state))) +
geom_line()
ggplot(average_state, aes(x = year, y = Average_Rate, color = factor(state))) +
geom_line()
View(cumulative_PDMPS)
View(df)
View(df2)
average_state <- df2 %>%
group_by(year) %>%
summarize(Average_Rate = mean(methadone_rate))
View(average_state)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(here)
library(tinytex)
library(estimatr)
library(texreg)
library(stargazer)
library(sandwich)
df <- read_csv(here("DATA3.csv"))
options(scipen = 99)
mod_total <- lm_robust(total ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care + factor(year) + factor(state), data = df, se_type = "HC1")
mod2_total <- lm(total ~ PDMP + I(PDMP*personal_health_care) + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care +
factor(year) + factor(state), data = df)
summary(mod2_total)
mod2_total <- lm(total ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care +
factor(year) + factor(state), data = df)
summary(mod2_total)
mod2_total <- lm(total ~ PDMP + I(PDMP*personal_health_care) +avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care +
factor(year) + factor(state), data = df)
summary(mod2_total)
mod2_total <- lm(total ~ PDMP + I(PDMP*avg_age) +avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care +
factor(year) + factor(state), data = df)
summary(mod2_total)
mod2_total <- lm(total ~ PDMP + I(PDMP*median_income) +avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care +
factor(year) + factor(state), data = df)
summary(mod2_total)
mod2_total <- lm(total ~ PDMP + I(PDMP*white_pct) +avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care +
factor(year) + factor(state), data = df)
summary(mod2_total)
mod2_total <- lm(total ~ PDMP + I(PDMP*unemp_rate) +avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care +
factor(year) + factor(state), data = df)
summary(mod2_total)
View(df)
mean(df$natural_and_other)
mean(df$total)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(here)
library(kableExtra)
library(knitr)
df <- read_csv(here("DATA3.csv"))
df2 <- read_csv(here("DATA_METHADONE.csv"))
median1 <- df %>%
group_by(year) %>%
summarize(median_total = median(total),
median_heroin = median(heroin_synthetic),
median_natural = median(natural_and_other))
median2 <- df2 %>%
group_by(year) %>%
summarize(median_methadone = median(methadone_rate))
median_data <- left_join(median1, median2, by = "year")
median_long <- median_data %>%
pivot_longer(!year, names_to = "Rate", values_to = "Value")
captions <- median_long %>%
group_by(Rate) %>%
slice(n()) %>%
mutate(Captions = c(""))
ggplot(median_long, aes(x = year, y = Value, color = Rate)) +
geom_point() +
geom_line( )+
labs(x = "Year", y = "Median Rate", title = "Time Series Scatterplot of Median Rates") +
theme_minimal() +
theme(legend.position = "none",
panel.grid.major.x = element_blank()) +
geom_text(aes(x = 2022, y = 23, label = "Any Opioid", color = "gray12")) +
geom_text(aes(x = 2022, y = 20, label = "Heroin and Synthetic Opioids", color = "coral1")) +
geom_text(aes(x = 2022, y = 5, label = "Natural, Semisynthetic, and Other Opioids", color = "cyan")) +
geom_text(aes(x = 2022, y = 2.5, label = "Methadone", color = "darkorange")) +
scale_color_manual(values = c("darkorchid", "firebrick2", "dodgerblue", "green4", "gold", "blue", "green", "deeppink"))
figure3 <- ggplot(median_long, aes(x = year, y = Value, color = Rate)) +
geom_line(size = 1)+
labs(x = "Year", y = "Overdose Rate per 100,000",
title = "Median Overdose Rate by Type of Opioid") +
theme_minimal() +
theme(legend.position = "none",
panel.grid.minor.x = element_blank(),
plot.title = element_text(hjust = 0.4, size = 16)) +
scale_color_manual(values = c("darkorchid1", "firebrick1", "dodgerblue", "green3"))
ggplot(median_long, aes(x = year, y = Value, color = Rate)) +
geom_line(size = 1)+
labs(x = "Year", y = "Overdose Rate per 100,000",
title = "Median Overdose Rate by Type of Opioid") +
theme_minimal() +
theme(legend.position = "none",
panel.grid.minor.x = element_blank(),
plot.title = element_text(hjust = 0.4, size = 16)) +
scale_color_manual(values = c("darkorchid1", "firebrick1", "dodgerblue", "green3"))
ggplot(median_long, aes(x = year, y = Value, color = Rate)) +
geom_line(size = 1)+
labs(x = "Year", y = "Overdose Rate per 100,000",
title = "Median Overdose Rate by Type of Opioid") +
theme_minimal() +
theme(legend.position = "none",
panel.grid.minor.x = element_blank(),
plot.title = element_text(hjust = 0.4, size = 16)) +
scale_color_manual(values = c("darkorchid1", "firebrick1", "dodgerblue", "green3")) +
scale_y_continuous(limits = c(0,30))
ggplot(median_long, aes(x = year, y = Value, color = Rate)) +
geom_line(size = 1)+
labs(x = "Year", y = "Overdose Rate per 100,000",
title = "Median Overdose Rate by Type of Opioid") +
theme_minimal() +
theme(legend.position = "none",
panel.grid.minor.x = element_blank(),
plot.title = element_text(hjust = 0.4, size = 16)) +
scale_color_manual(values = c("darkorchid1", "firebrick1", "dodgerblue", "green3")) +
scale_y_continuous(limits = c(0,25))
figure3 <- ggplot(median_long, aes(x = year, y = Value, color = Rate)) +
geom_line(size = 1)+
labs(x = "Year", y = "Overdose Rate per 100,000",
title = "Median Overdose Rate by Opioid Category") +
theme_minimal() +
theme(legend.position = "none",
panel.grid.minor.x = element_blank(),
plot.title = element_text(hjust = 0.4, size = 16)) +
scale_color_manual(values = c("darkorchid1", "firebrick1", "dodgerblue", "green3")) +
scale_y_continuous(limits = c(0,25))
ggsave(filename = here("figure3.jpeg"), plot = figure3, device = "jpeg", width = 7, height = 5)
average_rate <- df %>%
group_by(PDMP, year) %>%
summarize(Average_Rate = mean(total),
count = sum(PDMP ==1))
ggplot(average_rate, aes(x = year, y = Average_Rate, color = factor(PDMP))) +
geom_line(size = 1) +
labs(x = "Year", y = "Overdose Rate per 100,000",
title = "Average Total Opioid Overdose Rate by PDMP Status") +
scale_color_manual(values = c("blue", "red")) +
theme_minimal() +
theme(panel.grid.minor.x = element_blank(),
plot.title = element_text(hjust = 0.4, size = 16),
legend.position = "none")
ggplot(average_rate, aes(x = year, y = Average_Rate, color = factor(PDMP))) +
geom_line(size = 1) +
labs(x = "Year", y = "Overdose Rate per 100,000",
title = "Average Total Opioid Overdose Rate by PDMP Status") +
scale_color_manual(values = c("blue", "red")) +
theme_minimal() +
theme(panel.grid.minor.x = element_blank(),
plot.title = element_text(hjust = 0.4, size = 16),
legend.position = "none") +
scale_y_continuous(limits = c(0, 40))
figure2 <- ggplot(average_rate, aes(x = year, y = Average_Rate, color = factor(PDMP))) +
geom_line(size = 1) +
labs(x = "Year", y = "Overdose Rate per 100,000",
title = "Average Total Opioid Overdose Rate by PDMP Status") +
scale_color_manual(values = c("blue", "red")) +
theme_minimal() +
theme(panel.grid.minor.x = element_blank(),
plot.title = element_text(hjust = 0.4, size = 16),
legend.position = "none") +
scale_y_continuous(limits = c(0, 40))
ggsave(filename = here("figure2.jpeg"), plot = figure2, device = "jpeg", width = 7, height = 5)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(here)
library(kableExtra)
library(knitr)
df <- read_csv(here("DATA3.csv"))
df2 <- read_csv(here("DATA_METHADONE.csv"))
median1 <- df %>%
group_by(year) %>%
summarize(median_total = median(total),
median_heroin = median(heroin_synthetic),
median_natural = median(natural_and_other))
median2 <- df2 %>%
group_by(year) %>%
summarize(median_methadone = median(methadone_rate))
median_data <- left_join(median1, median2, by = "year")
median_long <- median_data %>%
pivot_longer(!year, names_to = "Rate", values_to = "Value")
captions <- median_long %>%
group_by(Rate) %>%
slice(n()) %>%
mutate(Captions = c(""))
ggplot(median_long, aes(x = year, y = Value, color = Rate)) +
geom_point() +
geom_line( )+
labs(x = "Year", y = "Median Rate", title = "Time Series Scatterplot of Median Rates") +
theme_minimal() +
theme(legend.position = "none",
panel.grid.major.x = element_blank()) +
geom_text(aes(x = 2022, y = 23, label = "Any Opioid", color = "gray12")) +
geom_text(aes(x = 2022, y = 20, label = "Heroin and Synthetic Opioids", color = "coral1")) +
geom_text(aes(x = 2022, y = 5, label = "Natural, Semisynthetic, and Other Opioids", color = "cyan")) +
geom_text(aes(x = 2022, y = 2.5, label = "Methadone", color = "darkorange")) +
scale_color_manual(values = c("darkorchid", "firebrick2", "dodgerblue", "green4", "gold", "blue", "green", "deeppink"))
figure3 <- ggplot(median_long, aes(x = year, y = Value, color = Rate)) +
geom_line(size = 1)+
labs(x = "Year", y = "Overdose Rate per 100,000",
title = "Median Overdose Rate by Opioid Category") +
theme_minimal() +
theme(legend.position = "none",
panel.grid.minor.x = element_blank(),
plot.title = element_text(hjust = 0.4, size = 16)) +
scale_color_manual(values = c("darkorchid1", "firebrick1", "dodgerblue", "green3")) +
scale_y_continuous(limits = c(0,25))
ggsave(filename = here("figure3.jpeg"), plot = figure3, device = "jpeg", width = 7, height = 5)
average_rate <- df %>%
group_by(PDMP, year) %>%
summarize(Average_Rate = mean(total),
count = sum(PDMP ==1))
figure2 <- ggplot(average_rate, aes(x = year, y = Average_Rate, color = factor(PDMP))) +
geom_line(size = 1) +
labs(x = "Year", y = "Overdose Rate per 100,000",
title = "Average Total Opioid Overdose Rate by PDMP Status") +
scale_color_manual(values = c("blue", "red")) +
theme_minimal() +
theme(panel.grid.minor.x = element_blank(),
plot.title = element_text(hjust = 0.4, size = 16),
legend.position = "none") +
scale_y_continuous(limits = c(0, 40))
ggsave(filename = here("figure2.jpeg"), plot = figure2, device = "jpeg", width = 7, height = 5)
PDMP_Year <- readxl::read_xlsx(here("PDMPYear.xlsx"))
PDMP_Year <- PDMP_Year %>%
mutate(Year = as.numeric(Year)) %>%
rename(operational_year = Year)
cumulative_PDMPS <- PDMP_Year %>%
group_by(operational_year) %>%
summarise(count = n_distinct(State)) %>%
mutate(cumulative_count = cumsum(count)) %>%
filter(operational_year >= 2000)
new_rows <- data.frame(operational_year = c(2000,
2001,
2002,
2015,
2016,
2017,
2018,
2019,
2020),
count = 0,
cumulative_count = c(16,
16,
16,
49,
49,
49,
49,
49,
49))
cumulative_PDMPS <- rbind(cumulative_PDMPS, new_rows)
figure1 <- cumulative_PDMPS %>%
ggplot(aes(x = operational_year, y = cumulative_count)) +
geom_line(size = 1, col = "blue") +
theme_minimal() +
labs(y = "Total Number of States",
x = "Year",
title = "Total Number of States with an\nOperational PDMP in Effect by Year")+
theme(plot.title = element_text(hjust = 0.5, size = 16),
panel.grid.minor.x = element_blank())
ggsave(filename = here("figure1.jpeg"), plot = figure1, device = "jpeg", width = 7, height = 5)
View(cumulative_PDMPS)
View(cumulative_PDMPS)
49-16
