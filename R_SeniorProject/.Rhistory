factor(year) + factor(state), data = df)
cov2_prescription <- vcovHC(mod2_prescription, type = "HC1")
robust_se2_prescription <- sqrt(diag(cov2_prescription))
mod1_prescription <- lm(prescription ~ PDMP + factor(year) + factor(state), data = df)
cov1_prescription <- vcovHC(mod1_prescription, type = "HC1")
robust_se1_prescription <- sqrt(diag(cov1_prescription))
fe_vector <- c("Fixed Effects", "Yes", "Yes")
covariate_vector <- c("Covariates", "No", "Yes")
stargazer(mod1_prescription, mod2_prescription, type = "latex",
se = list(robust_se1_prescription, robust_se2_prescription), omit = c("factor"),
add.lines = list(fe_vector, covariate_vector),
dep.var.labels = "Natural, Semisynthetic, and Other Opioid Overdose Death Rate per 100,000",
covariate.labels = c("PDMP in Operation", "Average Age",
"Percentage of Population with Bachelor's Degree",
"Median Income (Thousands of $)",
"Unemployment Rate",
"Percentage of Population that is White",
"Personal Healthcare Spending per Capita (Thousands of $)"))
df2 <- read_csv(here("Cleaned_Data", "DATA_METHADONE.csv"))
mod_methadone <- lm_robust(methadone_rate ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care + factor(year) + factor(state), data = df2, se_type = "HC1")
mod2_methadone <- lm(methadone_rate ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care + factor(year) + factor(state), data = df2)
cov2_methadone <- vcovHC(mod2_methadone, type = "HC1")
robust_se2_methadone <- sqrt(diag(cov2_methadone))
mod1_methadone <- lm(methadone_rate ~ PDMP + factor(year) + factor(state), data = df2)
cov1_methadone <- vcovHC(mod1_methadone, type = "HC1")
robust_se1_methadone <- sqrt(diag(cov1_methadone))
fe_vector <- c("Fixed Effects", "Yes", "Yes")
covariate_vector <- c("Covariates", "No", "Yes")
stargazer(mod1_methadone, mod2_methadone, type = "latex",
se = list(robust_se1_methadone, robust_se2_methadone), omit = c("factor"),
add.lines = list(fe_vector, covariate_vector),
dep.var.labels = "Methadone Overdose Death Rate per 100,000",
covariate.labels = c("PDMP in Operation", "Average Age",
"Percentage of Population with Bachelor's Degree",
"Median Income (Thousands of Dollars)",
"Unemployment Rate",
"Percentage of Population that is White",
"Personal Healthcare Spending per Capita (Thousands of Dollars)"))
fe_vector_final <- c("Fixed Effects", "Yes", "Yes", "Yes", "Yes")
covariate_vector_final <- c("Covariates", "Yes", "Yes", "Yes", "Yes")
stargazer(mod2_total, mod2_heroin, mod2_prescription, mod2_methadone, type = "latex",
se = list(robust_se2_total, robust_se2_heroin, robust_se2_prescription, robust_se2_methadone), omit = c("factor"),
add.lines = list(fe_vector_final, covariate_vector_final),
dep.var.labels.include = FALSE,
dep.var.labels = "Overdose Death Rate per 100,000",
column.labels = c("All Opioids", "Heroin and Synthetic Opioids", "Natural, Semisynthetic, and Other Opiods", "Methadone"),
covariate.labels = c("PDMP in Operation", "Average Age",
"Percentage of Population with Bachelor's Degree",
"Median Income (Thousands of $)",
"Unemployment Rate",
"Percentage of Population that is White",
"Personal Healthcare Spending per Capita (Thousands of $)"))
knitr::opts_chunk$set(echo = TRUE,
warning = FALSE,
message = FALSE)
fe_vector_final <- c("Fixed Effects", "Yes", "Yes", "Yes", "Yes")
covariate_vector_final <- c("Covariates", "Yes", "Yes", "Yes", "Yes")
stargazer(mod2_total, mod2_heroin, mod2_prescription, mod2_methadone, type = "latex",se = list(robust_se2_total, robust_se2_heroin, robust_se2_prescription, robust_se2_methadone), omit = c("factor"), add.lines = list(fe_vector_final, covariate_vector_final), dep.var.labels.include = FALSE, column.labels = c("All", "Heroin & Synthetic", "Prescription", "Methadone"), covariate.labels = c("PDMP in Operation", "Average Age", "Percentage with Bachelor's Degree","Median Income","Unemployment Rate","Percentage that is White","Personal Healthcare Spending per Capita"))
knitr::opts_chunk$set(echo = TRUE,
warning = FALSE,
message = FALSE)
library(tidyverse)
library(here)
library(tinytex)
library(estimatr)
library(texreg)
library(stargazer)
library(sandwich)
df <- read_csv(here("Cleaned_Data", "DATA.csv"))
df_nwerq <- read_csv(here("Cleaned_Data", "DATA3.csv"))
df %>%
filter(state != "District of Columbia") %>%
pull(total) %>%
mean()
df_nwerq %>%
filter(state != "District of Columbia") %>%
pull(total) %>%
mean()
options(scipen = 99)
mod_total <- lm_robust(total ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care + factor(year) + factor(state), data = df, se_type = "HC1")
mod2_total <- lm(total ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care +
factor(year) + factor(state), data = df)
cov2_total <- vcovHC(mod2_total, type = "HC1")
robust_se2_total <- sqrt(diag(cov2_total))
mod1_total <- lm(total ~ PDMP + factor(year) + factor(state), data = df)
cov1_total <- vcovHC(mod1_total, type = "HC1")
robust_se1_total <- sqrt(diag(cov1_total))
fe_vector <- c("Fixed Effects", "Yes", "Yes")
covariate_vector <- c("Covariates", "No", "Yes")
stargazer(mod1_total, mod2_total, type = "latex",
se = list(robust_se1_total, robust_se2_total), omit = c("factor"),
add.lines = list(fe_vector, covariate_vector),
dep.var.labels = "Total Opioid Overdose Death Rate per 100,000",
covariate.labels = c("PDMP in Operation", "Average Age",
"Percentage of Population with Bachelor's Degree",
"Median Income (Thousands of Dollars)",
"Unemployment Rate",
"Percentage of Population that is White",
"Personal Healthcare Spending per Capita (Thousands of Dollars)"))
mod <- lm_robust(heroin_synthetic ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care +
factor(year) + factor(state), data = df, se_type = "HC1")
mod2_heroin <- lm(heroin_synthetic ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care +
factor(year) + factor(state), data = df)
cov2_heroin <- vcovHC(mod2_heroin, type = "HC1")
robust_se2_heroin <- sqrt(diag(cov2_heroin))
mod1_heroin <- lm(heroin_synthetic ~ PDMP + factor(year) + factor(state), data = df)
cov1_heroin <- vcovHC(mod1_heroin, type = "HC1")
robust_se1_heroin <- sqrt(diag(cov1_heroin))
fe_vector <- c("Fixed Effects", "Yes", "Yes")
covariate_vector <- c("Covariates", "No", "Yes")
stargazer(mod1_heroin, mod2_heroin, type = "latex",
se = list(robust_se1_heroin, robust_se2_heroin), omit = c("factor"),
add.lines = list(fe_vector, covariate_vector),
dep.var.labels = "Heroin and Synthetic Opioid Overdose Death Rate per 100,000",
covariate.labels = c("PDMP in Operation", "Average Age",
"Percentage of Population with Bachelor's Degree",
"Median Income (Thousands of Dollars)",
"Unemployment Rate",
"Percentage of Population that is White",
"Personal Healthcare Spending per Capita (Thousands of Dollars)"))
mod_prescription <- lm_robust(prescription ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care +
factor(year) + factor(state), data = df, se_type = "HC1")
mod2_prescription <- lm(prescription ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care +
factor(year) + factor(state), data = df)
cov2_prescription <- vcovHC(mod2_prescription, type = "HC1")
robust_se2_prescription <- sqrt(diag(cov2_prescription))
mod1_prescription <- lm(prescription ~ PDMP + factor(year) + factor(state), data = df)
cov1_prescription <- vcovHC(mod1_prescription, type = "HC1")
robust_se1_prescription <- sqrt(diag(cov1_prescription))
fe_vector <- c("Fixed Effects", "Yes", "Yes")
covariate_vector <- c("Covariates", "No", "Yes")
stargazer(mod1_prescription, mod2_prescription, type = "latex",
se = list(robust_se1_prescription, robust_se2_prescription), omit = c("factor"),
add.lines = list(fe_vector, covariate_vector),
dep.var.labels = "Natural, Semisynthetic, and Other Opioid Overdose Death Rate per 100,000",
covariate.labels = c("PDMP in Operation", "Average Age",
"Percentage of Population with Bachelor's Degree",
"Median Income (Thousands of)",
"Unemployment Rate",
"Percentage of Population that is White",
"Personal Healthcare Spending per Capita (Thousands of)"))
df2 <- read_csv(here("Cleaned_Data", "DATA_METHADONE.csv"))
mod_methadone <- lm_robust(methadone_rate ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care + factor(year) + factor(state), data = df2, se_type = "HC1")
mod2_methadone <- lm(methadone_rate ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care + factor(year) + factor(state), data = df2)
cov2_methadone <- vcovHC(mod2_methadone, type = "HC1")
robust_se2_methadone <- sqrt(diag(cov2_methadone))
mod1_methadone <- lm(methadone_rate ~ PDMP + factor(year) + factor(state), data = df2)
cov1_methadone <- vcovHC(mod1_methadone, type = "HC1")
robust_se1_methadone <- sqrt(diag(cov1_methadone))
fe_vector <- c("Fixed Effects", "Yes", "Yes")
covariate_vector <- c("Covariates", "No", "Yes")
stargazer(mod1_methadone, mod2_methadone, type = "latex",
se = list(robust_se1_methadone, robust_se2_methadone), omit = c("factor"),
add.lines = list(fe_vector, covariate_vector),
dep.var.labels = "Methadone Overdose Death Rate per 100,000",
covariate.labels = c("PDMP in Operation", "Average Age",
"Percentage of Population with Bachelor's Degree",
"Median Income (Thousands of Dollars)",
"Unemployment Rate",
"Percentage of Population that is White",
"Personal Healthcare Spending per Capita (Thousands of Dollars)"))
fe_vector_final <- c("Fixed Effects", "Yes", "Yes", "Yes", "Yes")
covariate_vector_final <- c("Covariates", "Yes", "Yes", "Yes", "Yes")
stargazer(mod2_total, mod2_heroin, mod2_prescription, mod2_methadone, type = "latex",se = list(robust_se2_total, robust_se2_heroin, robust_se2_prescription, robust_se2_methadone), omit = c("factor"), add.lines = list(fe_vector_final, covariate_vector_final), dep.var.labels.include = FALSE, column.labels = c("All", "Heroin Synthetic", "Prescription", "Methadone"), covariate.labels = c("PDMP in Operation", "Average Age", "Percentage with Bachelor's Degree","Median Income","Unemployment Rate","Percentage that is White","Personal Healthcare Spending per Capita"))
knitr::opts_chunk$set(echo = TRUE,
warning = FALSE,
message = FALSE)
library(tidyverse)
library(here)
library(tinytex)
library(estimatr)
library(texreg)
library(stargazer)
library(sandwich)
df <- read_csv(here("Cleaned_Data", "DATA.csv"))
df_nwerq <- read_csv(here("Cleaned_Data", "DATA3.csv"))
df %>%
filter(state != "District of Columbia") %>%
pull(total) %>%
mean()
df_nwerq %>%
filter(state != "District of Columbia") %>%
pull(total) %>%
mean()
options(scipen = 99)
mod_total <- lm_robust(total ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care + factor(year) + factor(state), data = df, se_type = "HC1")
mod2_total <- lm(total ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care +
factor(year) + factor(state), data = df)
cov2_total <- vcovHC(mod2_total, type = "HC1")
robust_se2_total <- sqrt(diag(cov2_total))
mod1_total <- lm(total ~ PDMP + factor(year) + factor(state), data = df)
cov1_total <- vcovHC(mod1_total, type = "HC1")
robust_se1_total <- sqrt(diag(cov1_total))
mod2_total
summary(mod2_total)
summary(mod_total)
mod <- lm_robust(heroin_synthetic ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care +
factor(year) + factor(state), data = df, se_type = "HC1")
summary(mod)
mod_prescription <- lm_robust(prescription ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care +
factor(year) + factor(state), data = df, se_type = "HC1")
mod_prescription
mod_methadone <- lm_robust(methadone_rate ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care + factor(year) + factor(state), data = df2, se_type = "HC1")
df2 <- read_csv(here("Cleaned_Data", "DATA_METHADONE.csv"))
mod_methadone <- lm_robust(methadone_rate ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care + factor(year) + factor(state), data = df2, se_type = "HC1")
summary(mod_methadone)
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE)
figure1 <- cumulative_PDMPS %>%
ggplot(aes(x = operational_year, y = cumulative_count)) +
geom_line(size = 1, col = "blue") +
theme_minimal() +
labs(y = "Total Number of States",
x = "Year",
title = "Total Number of States with an\nOperational PDMP by Year",
caption = "District of Columbia included as a U.S. State")+
theme(plot.title = element_text(hjust = 0.5, size = 16),
panel.grid.minor.x = element_blank(),
text = element_text(family = "Times New Roman", size = 12))
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE)
library(tidyverse)
library(here)
library(kableExtra)
library(knitr)
library(extrafont)
df <- read_csv(here("Cleaned_Data", "DATA.csv"))
df2 <- read_csv(here("Cleaned_Data", "DATA_METHADONE.csv"))
median1 <- df %>%
group_by(year) %>%
summarize(median_total = median(total),
median_heroin = median(heroin_synthetic),
median_prescription = median(prescription))
median2 <- df2 %>%
group_by(year) %>%
summarize(median_methadone = median(methadone_rate))
median_data <- left_join(median1, median2, by = "year")
median_long <- median_data %>%
pivot_longer(!year, names_to = "Rate", values_to = "Value")
captions <- median_long %>%
group_by(Rate) %>%
slice(n()) %>%
mutate(Captions = c(""))
#font_import()
#loadfonts(device = "win")
figure3 <- ggplot(median_long, aes(x = year, y = Value, color = Rate)) +
geom_line(size = 1)+
labs(x = "Year", y = "Overdose Rate per 100,000",
title = "Median Overdose Rate by Opioid Category") +
theme_minimal() +
theme(legend.position = "none",
panel.grid.minor.x = element_blank(),
plot.title = element_text(hjust = 0.4, size = 16),
text = element_text(family = "Times New Roman", size = 12)) +
scale_color_manual(values = c("darkorchid1", "firebrick1", "dodgerblue", "green3")) +
scale_y_continuous(limits = c(0,25))
figure3
#ggsave(filename = here("figure3.jpeg"), plot = figure3, device = "jpeg", width = 7, height = 5)
average_rate <- df %>%
group_by(PDMP, year) %>%
summarize(Average_Rate = mean(total),
count = sum(PDMP ==1))
figure2 <- ggplot(average_rate, aes(x = year, y = Average_Rate, color = factor(PDMP))) +
geom_line(size = 1) +
labs(x = "Year", y = "Overdose Rate per 100,000",
title = "Average Total Opioid Overdose Rate by PDMP Status") +
scale_color_manual(values = c("blue", "red")) +
theme_minimal() +
theme(panel.grid.minor.x = element_blank(),
plot.title = element_text(hjust = 0.4, size = 16),
legend.position = "none",
text = element_text(family = "Times New Roman", size = 12)) +
scale_y_continuous(limits = c(0, 40))
figure2
#ggsave(filename = here("figure2.jpeg"), plot = figure2, device = "jpeg", width = 7, height = 5)
PDMP_Year <- read_csv(here("Cleaned_Data", "PDMP.csv"))
PDMP_Year <- PDMP_Year %>%
mutate(operational_year = as.numeric(operational_year))
cumulative_PDMPS <- PDMP_Year %>%
group_by(operational_year) %>%
summarise(count = n_distinct(State)) %>%
mutate(cumulative_count = cumsum(count)) %>%
filter(operational_year >= 2000)
new_rows <- data.frame(operational_year = c(2000,
2001,
2002,
2015,
2016,
2017,
2018,
2019,
2020),
count = 0,
cumulative_count = c(16,
16,
16,
50,
50,
50,
50,
50,
50))
cumulative_PDMPS <- rbind(cumulative_PDMPS, new_rows)
View(cumulative_PDMPS)
50-16
df <- read_csv(here("Cleaned_Data", "DATA.csv"))
df2 <- read_csv(here("Cleaned_Data", "DATA_METHADONE.csv"))
mean(df$total)
mean(df$total)
mean(df$heroin_synthetic)
mean(df$prescription)
mean(df2$methadone_rate)
View(df)
0.795/9.5
0.795/9.5 *100
mean(df$heroin_synthetic)
0.728 / 5.05
mean(df$prescription)
0.329 / 4.51
0.795/9.5 *100
0.728 / 5.05 * 100
0.329 / 4.51 * 100
mean(df$total)
0.795/9.5 *100
0.728 / 5.05 * 100
0.329 / 4.51 * 100
df %>% filter(year > 2010) %>%
pull(heroin_synthetic) %>%
mean()
mean(df$heroin_synthetic)
mean(df$prescription)
df %>% filter(year > 2010)
df %>% filter(year > 2010) %>%
pull(heroin_synthetic) %>%
mean()
df %>% filter(year > 2019) %>%
pull(heroin_synthetic) %>%
mean()
df %>% filter(year > 2010) %>%
pull(heroin_synthetic) %>%
mean()
df %>% filter(year > 2015) %>%
pull(heroin_synthetic) %>%
mean()
0.795/9.5 *100
0.728 / 5.05 * 100
0.329 / 4.51 * 100
df %>% filter(year > 2015) %>%
pull(heroin_synthetic) %>%
mean()
mean(df$heroin_synthetic)
0.728 / 12 * 100
0.728 / 12 * 100
0.329 / 4.51 * 100
0.728 / 5.05 * 100
mean(df$heroin_synthetic)
mean(df$heroin_synthetic)
mean(df$prescription)
knitr::opts_chunk$set(echo = TRUE,
warning = FALSE,
message = FALSE)
library(tidyverse)
library(here)
library(tinytex)
library(estimatr)
library(texreg)
library(stargazer)
library(sandwich)
df <- read_csv(here("Cleaned_Data", "DATA.csv"))
df_nwerq <- read_csv(here("Cleaned_Data", "DATA3.csv"))
df %>%
filter(state != "District of Columbia") %>%
pull(total) %>%
mean()
df_nwerq %>%
filter(state != "District of Columbia") %>%
pull(total) %>%
mean()
options(scipen = 99)
mod_total <- lm_robust(total ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care + factor(year) + factor(state), data = df, se_type = "HC1")
mod2_total <- lm(total ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care +
factor(year) + factor(state), data = df)
cov2_total <- vcovHC(mod2_total, type = "HC1")
robust_se2_total <- sqrt(diag(cov2_total))
mod1_total <- lm(total ~ PDMP + factor(year) + factor(state), data = df)
cov1_total <- vcovHC(mod1_total, type = "HC1")
robust_se1_total <- sqrt(diag(cov1_total))
fe_vector <- c("Fixed Effects", "Yes", "Yes")
covariate_vector <- c("Covariates", "No", "Yes")
stargazer(mod1_total, mod2_total, type = "latex",
se = list(robust_se1_total, robust_se2_total), omit = c("factor"),
add.lines = list(fe_vector, covariate_vector),
dep.var.caption = "Dependent Variable: Total Opioid Overdose Death Rate per 100,000",
dep.var.labels.include = FALSE,
covariate.labels = c("PDMP in Operation",
"Average Age",
"Percentage with Bachelor's Degree",
"Median Income",
"Unemployment Rate",
"Percentage that is White",
"Personal Healthcare Spending per Capita"))
mod <- lm_robust(heroin_synthetic ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care +
factor(year) + factor(state), data = df, se_type = "HC1")
mod2_heroin <- lm(heroin_synthetic ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care +
factor(year) + factor(state), data = df)
cov2_heroin <- vcovHC(mod2_heroin, type = "HC1")
robust_se2_heroin <- sqrt(diag(cov2_heroin))
mod1_heroin <- lm(heroin_synthetic ~ PDMP + factor(year) + factor(state), data = df)
cov1_heroin <- vcovHC(mod1_heroin, type = "HC1")
robust_se1_heroin <- sqrt(diag(cov1_heroin))
fe_vector <- c("Fixed Effects", "Yes", "Yes")
covariate_vector <- c("Covariates", "No", "Yes")
stargazer(mod1_heroin, mod2_heroin, type = "latex",
se = list(robust_se1_heroin, robust_se2_heroin), omit = c("factor"),
add.lines = list(fe_vector, covariate_vector),
dep.var.caption = "Dependent Variable: Heroin and Synthetic Opioid Overdose Death Rate per 100,000",
dep.var.labels.include = FALSE,
covariate.labels = c("PDMP in Operation",
"Average Age",
"Percentage with Bachelor's Degree",
"Median Income",
"Unemployment Rate",
"Percentage that is White",
"Personal Healthcare Spending per Capita"))
mod_prescription <- lm_robust(prescription ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care +
factor(year) + factor(state), data = df, se_type = "HC1")
mod2_prescription <- lm(prescription ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care +
factor(year) + factor(state), data = df)
cov2_prescription <- vcovHC(mod2_prescription, type = "HC1")
robust_se2_prescription <- sqrt(diag(cov2_prescription))
mod1_prescription <- lm(prescription ~ PDMP + factor(year) + factor(state), data = df)
cov1_prescription <- vcovHC(mod1_prescription, type = "HC1")
robust_se1_prescription <- sqrt(diag(cov1_prescription))
fe_vector <- c("Fixed Effects", "Yes", "Yes")
covariate_vector <- c("Covariates", "No", "Yes")
stargazer(mod1_prescription, mod2_prescription, type = "latex",
se = list(robust_se1_prescription, robust_se2_prescription), omit = c("factor"),
add.lines = list(fe_vector, covariate_vector),
dep.var.caption = "Dependent Variable: Prescription Opioid Overdose Death Rate per 100,000",
dep.var.labels.include = FALSE,
covariate.labels = c("PDMP in Operation",
"Average Age",
"Percentage with Bachelor's Degree",
"Median Income",
"Unemployment Rate",
"Percentage that is White",
"Personal Healthcare Spending per Capita"))
df2 <- read_csv(here("Cleaned_Data", "DATA_METHADONE.csv"))
mod_methadone <- lm_robust(methadone_rate ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care + factor(year) + factor(state), data = df2, se_type = "HC1")
mod2_methadone <- lm(methadone_rate ~ PDMP + avg_age + bachelors_pct + median_income
+ unemp_rate + white_pct + personal_health_care + factor(year) + factor(state), data = df2)
cov2_methadone <- vcovHC(mod2_methadone, type = "HC1")
robust_se2_methadone <- sqrt(diag(cov2_methadone))
mod1_methadone <- lm(methadone_rate ~ PDMP + factor(year) + factor(state), data = df2)
cov1_methadone <- vcovHC(mod1_methadone, type = "HC1")
robust_se1_methadone <- sqrt(diag(cov1_methadone))
fe_vector <- c("Fixed Effects", "Yes", "Yes")
covariate_vector <- c("Covariates", "No", "Yes")
stargazer(mod1_methadone, mod2_methadone, type = "latex",
se = list(robust_se1_methadone, robust_se2_methadone), omit = c("factor"),
add.lines = list(fe_vector, covariate_vector),
dep.var.caption = "Dependent Variable: Methadone Overdose Death Rate per 100,000",
dep.var.labels.include = FALSE,
covariate.labels = c("PDMP in Operation",
"Average Age",
"Percentage with Bachelor's Degree",
"Median Income",
"Unemployment Rate",
"Percentage that is White",
"Personal Healthcare Spending per Capita"))
fe_vector_final <- c("Fixed Effects", "Yes", "Yes", "Yes", "Yes")
covariate_vector_final <- c("Covariates", "Yes", "Yes", "Yes", "Yes")
stargazer(mod2_total, mod2_heroin, mod2_prescription, mod2_methadone,
type = "latex",
se = list(robust_se2_total, robust_se2_heroin, robust_se2_prescription, robust_se2_methadone),
omit = c("factor"),
add.lines = list(fe_vector_final, covariate_vector_final),
dep.var.caption = "Dependent Variable: Overdose Death Rate per 100,000 for Four Categories of Opioids:",
dep.var.labels.include = FALSE,
column.labels = c("All", "Heroin and Synthetic", "Prescription", "Methadone"),
covariate.labels = c("PDMP in Operation",
"Average Age",
"Percentage with Bachelor's Degree",
"Median Income",
"Unemployment Rate",
"Percentage that is White",
"Personal Healthcare Spending per Capita"))
